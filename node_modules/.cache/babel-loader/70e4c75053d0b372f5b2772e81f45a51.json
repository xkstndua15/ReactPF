{"ast":null,"code":"import _regeneratorRuntime from\"E:/react/react_pf/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _createForOfIteratorHelper from\"E:/react/react_pf/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"E:/react/react_pf/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/react/react_pf/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Layout from'../common/Layout';import axios from'axios';import{useState,useEffect,useRef}from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPlay}from'@fortawesome/free-solid-svg-icons';import Popup from'../common/Popup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Youtube(){var path=process.env.PUBLIC_URL;var desc='Lorem ipsum dolor sit, amet consectetur adipisicing elit. Nulla iure nostrum quisquam minima dolores animi? Lorem ipsum dolor sit amet consectetur adipisicing elit. Vel quam voluptate pariatur id mollitia.';var key='AIzaSyDv6JIUkmdFO-F6Ha1KriiO4uw0Iot8bb4';var playlistInst=[{playlist:'PLmAX7QJDEdu34IYyBw8oR6rXWVSPwH8sS',num:4},{playlist:'PLmAX7QJDEdu3KapeCk3bACIhBj0-X0a15',num:4},{playlist:'PLmAX7QJDEdu2mgWqVzotrDsnFFgP6Hskj',num:5},{playlist:'PLmAX7QJDEdu3F0cQ63STQsRxtmQDw0oxJ',num:4},{playlist:'PLmAX7QJDEdu0lxbVWKNA0FBg9pcf-v3dL',num:5}];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Vids=_useState2[0],setVids=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),Index=_useState4[0],setIndex=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),VidIdx=_useState6[0],setVidIdx=_useState6[1];var caption=useRef(null);var vids=useRef(null);var pop=useRef(null);useEffect(function(){var url=\"https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&key=\".concat(key,\"&playlistId=\").concat(playlistInst[0].playlist,\"&maxResults=\").concat(playlistInst[0].num);axios.get(url).then(function(json){setVids(json.data.items);});},[]);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,_iterator,_step,cap,_iterator2,_step2,vid;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(vids.current.children.length===0)){_context.next=2;break;}return _context.abrupt(\"return\");case 2:url=\"https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&key=\".concat(key,\"&playlistId=\").concat(playlistInst[Index].playlist,\"&maxResults=\").concat(playlistInst[Index].num);_context.next=5;return axios.get(url).then(function(json){setVids(json.data.items);});case 5:_iterator=_createForOfIteratorHelper(caption.current.children);try{for(_iterator.s();!(_step=_iterator.n()).done;){cap=_step.value;cap.classList.remove('on');}}catch(err){_iterator.e(err);}finally{_iterator.f();}caption.current.children[Index].classList.add('on');_iterator2=_createForOfIteratorHelper(vids.current.children);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){vid=_step2.value;vid.classList.remove('on');if(vid===vids.current.children[Index]){vid.classList.add('on');}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}vids.current.children[Index].classList.add('on');case 11:case\"end\":return _context.stop();}}},_callee);})),[Index]);var captionList=['CHAIR','BED','DESKTOP','WIFI','FAN'];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Layout,{name:\"Youtube\",desc:desc,visual:\"\".concat(path,\"/img/sub/youtube/visual.jpg\")}),/*#__PURE__*/_jsxs(\"div\",{id:\"youtube\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Our Videos\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list\",ref:caption,children:captionList.map(function(caption,idx){var on=idx===0?'on':'';return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setIndex(idx);},className:on,children:/*#__PURE__*/_jsx(\"h3\",{children:caption})},idx);})}),/*#__PURE__*/_jsx(\"ul\",{className:\"vids\",ref:vids,children:Vids.map(function(vid,idx){var titLen=50;var descLen=200;var tit=vid.snippet.title.length>titLen?vid.snippet.title.substr(0,titLen)+'...':vid.snippet.title;var desc=vid.snippet.description.length>descLen?vid.snippet.description.substr(0,descLen)+'...':vid.snippet.description;var date=vid.snippet.publishedAt;var on=idx===0?'on':'';return/*#__PURE__*/_jsxs(\"article\",{className:on,onClick:function onClick(){pop.current.open();setVidIdx(idx);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"txt\",children:[/*#__PURE__*/_jsx(\"h4\",{children:tit}),/*#__PURE__*/_jsx(\"p\",{children:desc}),/*#__PURE__*/_jsx(\"span\",{children:date})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pic\",children:/*#__PURE__*/_jsx(\"img\",{src:vid.snippet.thumbnails.high.url,alt:tit})}),/*#__PURE__*/_jsx(\"div\",{className:\"play\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPlay})})]},idx);})})]}),Vids.length>0&&/*#__PURE__*/_jsx(Popup,{ref:pop,children:/*#__PURE__*/_jsx(\"iframe\",{src:\"https://www.youtube.com/embed/\".concat(Vids[VidIdx].snippet.resourceId.videoId),frameBorder:\"0\"})})]});}export default Youtube;","map":{"version":3,"names":["Layout","axios","useState","useEffect","useRef","FontAwesomeIcon","faPlay","Popup","Youtube","path","process","env","PUBLIC_URL","desc","key","playlistInst","playlist","num","Vids","setVids","Index","setIndex","VidIdx","setVidIdx","caption","vids","pop","url","get","then","json","data","items","current","children","length","cap","classList","remove","add","vid","captionList","map","idx","on","titLen","descLen","tit","snippet","title","substr","description","date","publishedAt","open","thumbnails","high","resourceId","videoId"],"sources":["E:/react/react_pf/src/components/sub/Youtube.js"],"sourcesContent":["import Layout from '../common/Layout';\r\nimport axios from 'axios';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlay } from '@fortawesome/free-solid-svg-icons';\r\nimport Popup from '../common/Popup';\r\n\r\nfunction Youtube() {\r\n\tconst path = process.env.PUBLIC_URL;\r\n\tconst desc =\r\n\t\t'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Nulla iure nostrum quisquam minima dolores animi? Lorem ipsum dolor sit amet consectetur adipisicing elit. Vel quam voluptate pariatur id mollitia.';\r\n\tconst key = 'AIzaSyDv6JIUkmdFO-F6Ha1KriiO4uw0Iot8bb4';\r\n\tconst playlistInst = [\r\n\t\t{\r\n\t\t\tplaylist: 'PLmAX7QJDEdu34IYyBw8oR6rXWVSPwH8sS',\r\n\t\t\tnum: 4,\r\n\t\t},\r\n\t\t{ playlist: 'PLmAX7QJDEdu3KapeCk3bACIhBj0-X0a15', num: 4 },\r\n\t\t{ playlist: 'PLmAX7QJDEdu2mgWqVzotrDsnFFgP6Hskj', num: 5 },\r\n\t\t{ playlist: 'PLmAX7QJDEdu3F0cQ63STQsRxtmQDw0oxJ', num: 4 },\r\n\t\t{ playlist: 'PLmAX7QJDEdu0lxbVWKNA0FBg9pcf-v3dL', num: 5 },\r\n\t];\r\n\r\n\tconst [Vids, setVids] = useState([]);\r\n\tconst [Index, setIndex] = useState(0);\r\n\tconst [VidIdx, setVidIdx] = useState(0);\r\n\tconst caption = useRef(null);\r\n\tconst vids = useRef(null);\r\n\tconst pop = useRef(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst url = `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&key=${key}&playlistId=${playlistInst[0].playlist}&maxResults=${playlistInst[0].num}`;\r\n\t\taxios.get(url).then((json) => {\r\n\t\t\tsetVids(json.data.items);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tuseEffect(async () => {\r\n\t\tif (vids.current.children.length === 0) return;\r\n\r\n\t\tconst url = `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&key=${key}&playlistId=${playlistInst[Index].playlist}&maxResults=${playlistInst[Index].num}`;\r\n\r\n\t\tawait axios.get(url).then((json) => {\r\n\t\t\tsetVids(json.data.items);\r\n\t\t});\r\n\r\n\t\tfor (const cap of caption.current.children) {\r\n\t\t\tcap.classList.remove('on');\r\n\t\t}\r\n\t\tcaption.current.children[Index].classList.add('on');\r\n\r\n\t\tfor (const vid of vids.current.children) {\r\n\t\t\tvid.classList.remove('on');\r\n\r\n\t\t\tif (vid === vids.current.children[Index]) {\r\n\t\t\t\tvid.classList.add('on');\r\n\t\t\t}\r\n\t\t}\r\n\t\tvids.current.children[Index].classList.add('on');\r\n\t}, [Index]);\r\n\r\n\tconst captionList = ['CHAIR', 'BED', 'DESKTOP', 'WIFI', 'FAN'];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Layout\r\n\t\t\t\tname='Youtube'\r\n\t\t\t\tdesc={desc}\r\n\t\t\t\tvisual={`${path}/img/sub/youtube/visual.jpg`}></Layout>\r\n\t\t\t<div id='youtube'>\r\n\t\t\t\t<h3>Our Videos</h3>\r\n\t\t\t\t<ul className='list' ref={caption}>\r\n\t\t\t\t\t{captionList.map((caption, idx) => {\r\n\t\t\t\t\t\tconst on = idx === 0 ? 'on' : '';\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li key={idx} onClick={() => setIndex(idx)} className={on}>\r\n\t\t\t\t\t\t\t\t<h3>{caption}</h3>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\r\n\t\t\t\t<ul className='vids' ref={vids}>\r\n\t\t\t\t\t{Vids.map((vid, idx) => {\r\n\t\t\t\t\t\tconst titLen = 50;\r\n\t\t\t\t\t\tconst descLen = 200;\r\n\t\t\t\t\t\tconst tit =\r\n\t\t\t\t\t\t\tvid.snippet.title.length > titLen\r\n\t\t\t\t\t\t\t\t? vid.snippet.title.substr(0, titLen) + '...'\r\n\t\t\t\t\t\t\t\t: vid.snippet.title;\r\n\t\t\t\t\t\tconst desc =\r\n\t\t\t\t\t\t\tvid.snippet.description.length > descLen\r\n\t\t\t\t\t\t\t\t? vid.snippet.description.substr(0, descLen) + '...'\r\n\t\t\t\t\t\t\t\t: vid.snippet.description;\r\n\t\t\t\t\t\tconst date = vid.snippet.publishedAt;\r\n\t\t\t\t\t\tconst on = idx === 0 ? 'on' : '';\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<article\r\n\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\tclassName={on}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tpop.current.open();\r\n\t\t\t\t\t\t\t\t\tsetVidIdx(idx);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<div className='txt'>\r\n\t\t\t\t\t\t\t\t\t<h4>{tit}</h4>\r\n\t\t\t\t\t\t\t\t\t<p>{desc}</p>\r\n\t\t\t\t\t\t\t\t\t<span>{date}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='pic'>\r\n\t\t\t\t\t\t\t\t\t<img src={vid.snippet.thumbnails.high.url} alt={tit} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='play'>\r\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faPlay}></FontAwesomeIcon>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\r\n\t\t\t{Vids.length > 0 && (\r\n\t\t\t\t<Popup ref={pop}>\r\n\t\t\t\t\t<iframe\r\n\t\t\t\t\t\tsrc={`https://www.youtube.com/embed/${Vids[VidIdx].snippet.resourceId.videoId}`}\r\n\t\t\t\t\t\tframeBorder='0'></iframe>\r\n\t\t\t\t</Popup>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Youtube;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}